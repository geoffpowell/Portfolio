var resizeTimer;$(document).ready(function(){$(".icon-container").hide(),$.each($(".section"),function(){var e=$(this).attr("data-anchor"),a=e.replace(/-/gm," ");$(this).hasClass("project")?$("ul#sub-menu #sub-menu-container").append('<li data-menuanchor="'+e+'"><a href="#'+e+'">'+a+"</a></li>"):$("ul#menu").append('<li data-menuanchor="'+e+'"><a id="'+e+'-link"href="#'+e+'">'+a+"</a></li>")});var i=0;$.each($(".section"),function(e){$(this).hasClass("project")&&i++});$("#fullpage").fullpage({licenseKey:"OPEN-SOURCE-GPLV3-LICENSE",easingcss3:"cubic-bezier(0.85, 0, 0.17, 0.85)",sectionsColor:["white","white","white","white","white","#303030","white"],slidesNavigation:!0,controlArrows:!0,scrollOverflow:!0,scrollingSpeed:700,menu:"#menu",onLeave:function(e,a,l){console.log("ON LEAVE"),console.log(e),$(".location-blurb").addClass("loc-hide");var t=$(e.item);t.hasClass("project")?(t.find(".project-info").removeClass("active"),t.find(".project-image").removeClass("active")):t.hasClass("resume")?t.find(".paper").removeClass("active"):t.hasClass("contact")&&(t.find(".social-links h2").removeClass("active"),t.find(".social-icon").removeClass("loaded"),t.find(".about-site").removeClass("active"),t.find(".about-site, .about-site .text-group").removeClass("active"))},afterLoad:function(e,a,l){console.log("AFTER LOAD"),console.log("destination is: "+a.anchor);var t,n=$(a.item);$(".location-blurb p").css("color","black"),n.hasClass("project")?(t='<span class="small-text"> Portfolio '+(a.index+1)+"/"+i+"</span><br>"+a.anchor.replace(/-/gm," "),n.find(".project-info").addClass("active"),n.find(".project-image").addClass("active")):n.hasClass("resume")?($(".location-blurb p").css("color","white"),t="Resume",n.find(".paper").addClass("active")):n.hasClass("contact")&&(t="Contact",n.find(".social-links h2").addClass("active"),n.find(".social-icon").addClass("loaded"),n.find(".about-site, .about-site .text-group").addClass("active"),console.log("contact")),$(".location-blurb p").html(t),$(".location-blurb").removeClass("loc-hide"),setTimeout(function(){!function(){if($("#polyline4, #polyline5, #polyline6").removeClass("temp-unsticky sticky active"),$("#Resume-link, #Contact-link, #portfolio-link").removeClass("temp-unwhite white"),$("#sub-menu-container").removeClass("open"),$("#sub-menu-container li a").removeClass("white"),c=r=s=o=!1,$("#sub-menu li[data-menuanchor]").hasClass("active"))s=!0;else if($('li[data-menuanchor="Resume"]').hasClass("active"))c=!0,$("#polyline5").addClass("active");else{if(!$('li[data-menuanchor="Contact"]').hasClass("active"))return;r=!0,$("#polyline6").addClass("active")}}()},700)},afterSlideLoad:function(e,a,l,t){$(this);$(".slide-image-1, .slide-image-2, .slide-image-3, .text-group-appearing").addClass("active"),$(".text-group, .slide-image-single").addClass("active")},onSlideLeave:function(e,a,l,t){$(".text-group, .slide-image-single").removeClass("active");var n=$(this);console.log(n),console.log(e),console.log(a),console.log(l),console.log(t)}}),$(".menu-icon").click(function(){$(".menu-icon .inner").toggleClass("open"),$(".location-blurb").toggleClass("loc-hide"),$(".menu-icon .inner").hasClass("open")?($("#landing-container").addClass("window-open"),fullpage_api.setAllowScrolling(!1,"all"),fullpage_api.setKeyboardScrolling(!1,"all")):($("#landing-container").removeClass("window-open"),fullpage_api.setAllowScrolling(!0,"all"),fullpage_api.setKeyboardScrolling(!0,"all"))}),$(".navigation li a").click(function(e){if(e.preventDefault(),$(this).is("#portfolio-link"))return!1;$(".icon-container").show(),fullpage_api.silentMoveTo($(this).parent().attr("data-menuanchor")),fullpage_api.setAllowScrolling(!0,"all"),fullpage_api.setKeyboardScrolling(!0,"all"),$("#landing-container").removeClass("window-open"),$(".menu-icon .inner").removeClass("open"),$(".location-blurb p").css("display","block"),$(".location-blurb").removeClass("loc-hide")});var o=!1,s=$("#sub-menu li[data-menuanchor]").hasClass("active"),c=$('li[data-menuanchor="Resume"]').hasClass("active"),r=$('li[data-menuanchor="Contact"]').hasClass("active");$("#portfolio-link").click(function(e){if(e.preventDefault(),$("#sub-menu-container").toggleClass("open"),$(this).toggleClass("white"),$("#polyline4").toggleClass("sticky"),$("#sub-menu-container li a").toggleClass("white"),o=!!$("#polyline4").hasClass("sticky"),console.log("Portfolio Menu is Open?"+Boolean(o)),s)console.log("portfolio is active");else if(c)$("#Resume-link").addClass("temp-unwhite"),$("#polyline5").addClass("temp-unsticky");else{if(!r)return console.log("no menu item is active"),!1;$("#Contact-link").addClass("temp-unwhite"),$("#polyline6").addClass("temp-unsticky")}}),$("#portfolio-link").hover(function(){o?console.log("sub menu is open and returned false"):(console.log("polyline is not stuck open so we can animate it"),$("#polyline4").toggleClass("active"),$('li[data-menuanchor="Resume"]').hasClass("active")?($("#Resume-link").toggleClass("temp-unwhite"),$("#polyline5").toggleClass("temp-unsticky")):$('li[data-menuanchor="Contact"]').hasClass("active")&&($("#Contact-link").toggleClass("temp-unwhite"),$("#polyline6").toggleClass("temp-unsticky")))}),$("#Resume-link").hover(function(){o&&c?($("#Resume-link").toggleClass("temp-unwhite"),$("#polyline5").toggleClass("temp-unsticky"),$("#portfolio-link").toggleClass("temp-unwhite"),$("#polyline4").toggleClass("temp-unsticky"),$("#sub-menu-container li a").toggleClass("temp-unwhite")):o&&r||o&&s?($("#portfolio-link").toggleClass("temp-unwhite"),$("#polyline4").toggleClass("temp-unsticky"),$("#sub-menu-container li a").toggleClass("temp-unwhite"),$("#Resume-link").toggleClass("active"),$("#polyline5").toggleClass("active")):!o&&c||(!o&&r?($("#Resume-link").toggleClass("active"),$("#polyline5").toggleClass("active"),$("#Contact-link").toggleClass("temp-unwhite"),$("#polyline6").toggleClass("temp-unsticky")):!o&&s?$("#polyline5").toggleClass("active"):console.log("error, a condition wasnt found for that"))}),$("#Contact-link").hover(function(){o&&r?($("#Contact-link").toggleClass("temp-unwhite"),$("#polyline6").toggleClass("temp-unsticky"),$("#portfolio-link").toggleClass("temp-unwhite"),$("#polyline4").toggleClass("temp-unsticky"),$("#sub-menu-container li a").toggleClass("temp-unwhite")):o&&c||o&&s?($("#portfolio-link").toggleClass("temp-unwhite"),$("#polyline4").toggleClass("temp-unsticky"),$("#sub-menu-container li a").toggleClass("temp-unwhite"),$("#Contact-link").toggleClass("active"),$("#polyline6").toggleClass("active")):!o&&r||(!o&&c?($("#Contact-link").toggleClass("active"),$("#polyline6").toggleClass("active"),$("#Resume-link").toggleClass("temp-unwhite"),$("#polyline5").toggleClass("temp-unsticky")):!o&&s?$("#polyline6").toggleClass("active"):console.log("error, a condition wasnt found for that"))}),$("#explore_slides_1").click(function(){fullpage_api.moveTo("Kattare",1)}),$(".social-links a").hover(function(){$(this).toggleClass("hover")}),$("#email-icon").mouseover(function(){$(this).attr("href",function(){var e=$("#email-icon").attr("href");if("#"!=e)return e=(e=(e=(e=e.replace("failto","mailto")).replace(/first/gi,"geoff")).replace(":::","@")).replace("last","powell");console.log("readablelink is blank");var a=":otliam",l="geoff",t="ten.";return e=(a=a.split("").reverse().join(""))+l+"@"+l+"powell"+(t=t.split("").reverse().join(""))}()),console.log($("#email-icon").attr("href"))}),$("#email-icon").mouseout(function(){$(this).attr("href",$("#email-icon").attr("href").replace("mailto","failto").replace(/geoff/gi,"first").replace("@",":::").replace("powell","last")),console.log($("#email-icon").attr("href"))}),fullpage_api.setAllowScrolling(!1,"all"),fullpage_api.setKeyboardScrolling(!1,"all")}),$(window).resize(function(){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){console.log($(window).width()),$(window).width()<=999||$("#landing-container").hasClass("window-open")?(fullpage_api.setAllowScrolling(!1,"all"),fullpage_api.setKeyboardScrolling(!1,"all")):(fullpage_api.setAllowScrolling(!0,"all"),fullpage_api.setKeyboardScrolling(!0,"all"))},500)}),$(window).load(function(){var e=Snap.select("#r1"),a=Snap.select("#e1"),l=Snap.select("#t1"),t=Snap.select("#i1"),n=Snap.select("#c1"),i=Snap.select("#u1"),o=Snap.select("#l1"),s=Snap.select("#a1"),c=Snap.select("#t2"),r=Snap.select("#i2"),u=Snap.select("#n1"),p=Snap.select("#g1"),m=Snap.select("#s1"),g=Snap.select("#p1"),d=Snap.select("#l2"),f=Snap.select("#i3"),h=Snap.select("#n2"),C=Snap.select("#e2"),v=Snap.select("#s2"),w=Snap.select("#g2"),y=Snap.select("#e3"),b=Snap.select("#o1"),k=Snap.select("#f1"),S=Snap.select("#f2"),A=Snap.select("#p2"),_=Snap.select("#o2"),R=Snap.select("#w1"),x=Snap.select("#e4"),T=Snap.select("#l3"),j=Snap.select("#l4"),M=700,K=new Snap.Matrix;K.translate(0,50);var L,O,E=function(){e.animate({opacity:0,transform:K},M,mina.easeinout),a.animate({opacity:0,transform:K},M,mina.easeinout),l.animate({opacity:0,transform:K},M,mina.easeinout),t.animate({opacity:0,transform:K},M,mina.easeinout),n.animate({d:w.node.getAttribute("d")},M,mina.easeinout),i.animate({opacity:0},M,mina.easeinout),o.animate({d:y.node.getAttribute("d")},M,mina.easeinout),s.animate({d:b.node.getAttribute("d")},M,mina.easeinout),c.animate({opacity:0},M,mina.easeinout),r.animate({d:k.node.getAttribute("d")},M,mina.easeinout),u.animate({opacity:0},M,mina.easeinout),p.animate({d:S.node.getAttribute("d")},M,mina.easeinout),m.animate({opacity:0},M,mina.easeinout),g.animate({d:A.node.getAttribute("d")},M,mina.easeinout),d.animate({d:j.node.getAttribute("d")},M,mina.easeinout),f.animate({d:_.node.getAttribute("d")},M,mina.easeinout),h.animate({d:R.node.getAttribute("d")},M,mina.easeinout),C.animate({d:x.node.getAttribute("d")},M,mina.easeinout),v.animate({d:T.node.getAttribute("d")},M,mina.easeinout),lineRunning=!1},z=Snap("#menuline"),D=z.select("#polyline1"),N=z.select("#polyline2"),P=z.select("#polyline3"),V=3300;L=function(){N.attr({fill:"none","stroke-dasharray":300,"stroke-dashoffset":300,stroke:"url(#menu-line-gradient)"}).animate({"stroke-dashoffset":0},1100,mina.easeinout,O)},O=function(){P.attr({fill:"none","stroke-dasharray":300,"stroke-dashoffset":300,stroke:"url(#menu-line-gradient)"}).animate({"stroke-dashoffset":0},1100,mina.easeinout,E)},D.attr({fill:"none","stroke-dasharray":300,"stroke-dashoffset":300,stroke:"url(#menu-line-gradient)"}).animate({"stroke-dashoffset":0},1100,mina.easein,L);var B=V/7,F=300;function G(e){var a,l,t=(a=B*(e+1)-F,l=B*(e+1)+F,Math.floor(a+Math.random()*(l-a)));setTimeout(function(){$("#counter span").text(Math.floor(t/V*100))},t)}for(var I=0;I<=5;I++)G(I);setTimeout(function(){$("#counter span").text("100"),$("ul#menu").css("visibility","visible"),$("ul#menu").animate({opacity:1},2100),$(".description-box #counter").animate({opacity:0},M),$(".description-box #description").animate({opacity:1},2100);var a=function(){$("#landing-container").removeClass("window-open"),$(".icon-container").show(),$(".menu-icon .inner").removeClass("open"),$(".location-blurb p").css("display","block"),$(".location-blurb").removeClass("loc-hide"),$(window).off("wheel mousewheel DOMMouseScroll keydown"),setTimeout(function(){fullpage_api.setAllowScrolling(!0,"all"),fullpage_api.setKeyboardScrolling(!0,"all")},400)};$(window).on("wheel mousewheel DOMMouseScroll",a),$(window).keydown(function(e){40===e.which&&a()})},7*B)});